

| Feature                          | Managed Node Group                        | Self-Managed Node Group                  |
|----------------------------------|-------------------------------------------|------------------------------------------|
| Upgrade specific node            | ❌ Not supported                           | ✅ Possible manually                      |
| Upgrade entire group (rolling)   | ✅ Supported via `eksctl`                  | ✅ Supported via ASG + Launch Template    |
| Auto rejoin after upgrade        | ✅ Yes                                     | ✅ With proper bootstrap script           |
| Node control granularity         | ❌ Group-based only                        | ✅ Per-node control                       |




# Troubleshooting Internal Server Error in Java Spring Boot Microservices on EKS

| **Step**                   | **Action**                                                                                                                                                                     | **Command/Details**                                                                                                                                                     |
|----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Check Logs**             | Inspect logs for errors like stack traces, configuration issues, or resource connection failures.                                                                             | `kubectl logs <pod-name>`                                                                                                                                              |
| **Inspect Pod Status**     | Check if pods are in error states like `CrashLoopBackOff`.                                                                                                                    | `kubectl get pods -o wide`                                                                                                                                             |
| **Analyze Pod Events**     | Look for deployment issues or resource constraints in pod events.                                                                                                             | `kubectl describe pod <pod-name>`                                                                                                                                      |
| **Verify Environment Variables** | Ensure that required environment variables are correctly set for database connections, API keys, etc.                                                                     | Check `env` section in the Kubernetes Deployment YAML file.                                                                                                            |
| **Test Service Connectivity** | Verify if services and APIs are reachable from the pod.                                                                                                                     | `kubectl exec -it <pod-name> -- curl http://<service-name>:<port>`                                                                                                     |
| **Check DNS Resolution**   | Ensure DNS is resolving correctly for Kubernetes services.                                                                                                                    | `kubectl exec -it <pod-name> -- nslookup <service-name>`                                                                                                               |
| **Validate Probes**        | Ensure readiness and liveness probes are correctly configured and functional.                                                                                                 | Check the Deployment YAML for `readinessProbe` and `livenessProbe` configuration.                                                                                      |
| **Monitor Resource Usage** | Check if resource limits or requests are causing issues.                                                                                                                      | Use `kubectl top pod <pod-name>` to analyze CPU and memory usage.                                                                                                      |
| **Port Forwarding**        | Debug the application locally by forwarding the port.                                                                                                                         | `kubectl port-forward <pod-name> 8080:8080`                                                                                                                            |
| **Exec into Pod**          | Access the container shell to check configurations and logs directly.                                                                                                         | `kubectl exec -it <pod-name> -- /bin/bash`                                                                                                                             |
| **Check EKS Security**     | Validate that security groups, IAM roles, and network permissions are correctly set up.                                                                                       | Review EKS configuration in AWS Management Console or via CLI.                                                                                                        |
| **Inspect Ingress Rules**  | Verify ingress configurations and load balancer logs for any misconfigurations.                                                                                               | `kubectl describe ingress <ingress-name>`                                                                                                                              |
| **Database Connectivity**  | Ensure the database is accessible and connection pool settings are appropriate.                                                                                               | Check database logs and `application.properties`/`application.yml` for configuration.                                                                                 |
| **Redeploy Application**   | Restart the application after fixes to apply changes.                                                                                                                         | `kubectl rollout restart deployment <deployment-name>`                                                                                                                 |
| **Helm Debugging**         | Use Helm commands to debug if the application is deployed via Helm.                                                                                                           | `helm status <release-name>`                                                                                                                                           |
| **Cluster-Level Debugging**| Ensure all nodes in the EKS cluster are healthy and inspect node logs for issues.                                                                                              | `kubectl describe node <node-name>`                                                                                                                                    |
| **Resource Drift**         | Verify resource state in EKS matches the desired state defined in the configuration.                                                                                          | Check deployment YAML files and Terraform/Helm state if applicable.                                                                                                    |





