рж░рзЛрж╣рж┐ржд рж╢рж░рзНржорж╛рж░ Terraform рж░рж╛ржЬрзНржп тАУ ржлрж╛ржЗржирж╛рж▓ ржПржбрж┐рж╢ржи

ржПржХ ржЫрж┐рж▓рзЛ рж░рзЛрж╣рж┐ржд рж╢рж░рзНржорж╛ред рж╕рзЗ рж╢рзБржзрзБ DevOps ржЗржЮрзНржЬрж┐ржирж┐ржпрж╝рж╛рж░ ржиржпрж╝, ржмрж░ржВ Terraform ржпрж╛ржжрзБржХрж░ред ржПржХржжрж┐ржи рж╕рзЗ ржарж┐ржХ ржХрж░рж▓рзЛ, рж╕рзЗ ржПржХржЯрж╛ VPC ржХржоржкрзНрж▓рзЗржХрзНрж╕ ржмрж╛ржирж╛ржмрзЗ, ржпрж╛ рж╣ржмрзЗ Multi-AZ, Highly Available ржПржмржВ Fully Taggedред

ЁЯП░ рж░рж╛ржЬрзНржпрзЗрж░ ржнрж┐рждрзНрждрж┐ тАУ VPC

рж░рзЛрж╣рж┐ржд рж░рж╛ржЬрзНржпрзЗрж░ ржирж╛ржо ржжрж┐рж▓рзЛ aws_vpcред

рж░рж╛ржЬрзНржпрзЗрж░ ржЪрж╛рж░ржкрж╛рж╢рзЗ ржмрж┐рж╢рж╛рж▓ CIDR Block ржжрж┐ржпрж╝рзЗ ржжрзЗржпрж╝рж╛рж▓ рждрзИрж░рж┐ рж╣рж▓рзЛред
рж░рж╛ржЬрзНржп ржЫрж┐рж▓рзЛ DNS Support + DNS Hostnames рж╕рж╣ ржПржмржВ Dedicated Instance Tenancyред
рж╕ржмржХрж┐ржЫрзБрж░ ржЙржкрж░рзЗ ржЙржЬрзНржЬрзНржмрж▓ ржЯрзНржпрж╛ржЧ ржЭрж▓ржорж▓ ржХрж░ржЫрж┐рж▓рзЛ:

Name = "rohit-vpc"


рж░рж╛ржЬрзНржпржЯрж╛ ржпрзЗржирзЛ AWS-ржПрж░ рж╕ржм ржжрж┐ржХ ржерзЗржХрзЗ ржирж┐рж░рж╛ржкржж ржУ рж╕рзБржЧржарж┐рждред

ЁЯПШя╕П ржкрж╛ржбрж╝рж╛ ржЧрзБрж▓рзЛ тАУ Public & Private Subnets

рж░рж╛ржЬрзНржпрзЗрж░ ржнрзЗрждрж░рзЗ ржжрзБржЯрж┐ ржзрж░ржирзЗрж░ ржкрж╛ржбрж╝рж╛:

Public Subnets тАУ ржЙржирзНржорзБржХрзНржд ржмрж╛ржЬрж╛рж░

ap-south-1a тЖТ Public Subnet A

ap-south-1b тЖТ Public Subnet B

ржкрзНрж░рждрж┐ржЯрж╛ ржкрж╛ржбрж╝рж╛рж░ ржнрж┐рждрж░рзЗ ржЖржЫрзЗ:

cidr_block
vpc_id
availability_zone
tags

Private Subnets тАУ ржЧрзЛржкржи ржПрж▓рж╛ржХрж╛

ap-south-1a тЖТ Private Subnet A

ap-south-1b тЖТ Private Subnet B

ржПржЗ ржЧрзЛржкржи ржПрж▓рж╛ржХрж╛ржЧрзБрж▓рзЛржУ рж╕ржорзНржкрзВрж░рзНржг рж╕ржЬрзНржЬрж┐ржд, tags рж╕рж╣ред

ЁЯМЙ NAT Gateway тАУ ржЧрзЛржкржи рж╕рзЗрждрзБ

рж░рзЛрж╣рж┐ржд рж░рж╛ржЬрзНржпрзЗрж░ ржирж┐рж░рж╛ржкрждрзНрждрж╛рж░ ржЬржирзНржп ржмрж╛ржирж╛рж▓рзЛ NAT Gateways:

Public Subnet A тЖТ NAT GW A (Elastic IP A рж╕рж╣)

Public Subnet B тЖТ NAT GW B (Elastic IP B рж╕рж╣)

ржкрзНрж░рждрж┐ржЯрж╛ NAT GW-ржПрж░ ржнрзЗрждрж░рзЗ ржЖржЫрзЗ:

vpc_id + tags


ржПрж░рж╛ ржирж┐рж░рж╛ржкржжрзЗ private subnet ржерзЗржХрзЗ internet access ржирж┐рж╢рзНржЪрж┐ржд ржХрж░ржЫрзЗред

ЁЯЫгя╕П рж░рж╛рж╕рзНрждрж╛ рждрзИрж░рж┐ тАУ Route Tables & Routes
Public Routes тАУ рж╕ржмрж╛ржЗ ржпрзЗрждрзЗ ржкрж╛рж░ржмрзЗ

ржкрзНрж░рждрж┐ржЯрж╛ Public Subnet-ржПрж░ ржЬржирзНржп ржмрж╛ржирж╛ржирзЛ рж╣рж▓рзЛ:

vpc_id
cidr_block = "0.0.0.0/0"
gateway_id = Internet Gateway

Route Tables тАУ рж░рж╛ржЬрзНржпрзЗрж░ ржорж╛ржиржЪрж┐рждрзНрж░

Public Route Table A & B

Private Route Table A & B

ржкрзНрж░рждрж┐ржЯрж╛ Subnet-ржПрж░ рж╕рж╛ржерзЗ Association:

for_each loop
subnet_id
route_table_id


ржПржнрж╛ржмрзЗ рж╕ржмрж╛ржЗ ржарж┐ржХржнрж╛ржмрзЗ рждрж╛ржжрзЗрж░ ржЧржирзНрждржмрзНржпрзЗ ржкрзМржБржЫрж╛ржЪрзНржЫрзЗред

ЁЯМР Internet Gateway тАУ рж░рж╛ржЬрзНржпрзЗрж░ ржмрж┐рж╢рзНржм ржжрж░ржЬрж╛

ржПржХржЯрж┐ ржжрж░ржЬрж╛ ржЦрзЛрж▓рж╛ рж╣рж▓рзЛ, ржирж╛ржо: aws_internet_gateway
ржнрзЗрждрж░рзЗ ржЖржЫрзЗ:

vpc_id
tags = "rohit-igw"


ржпрзЗржЦрж╛ржирзЗ рж░рж╛ржЬрзНржпрзЗрж░ рж╕ржХрж▓ open traffic ржпрзЗрждрзЗ ржкрж╛рж░ржмрзЗред

ЁЯУК VPC Flow Logs тАУ ржиржЬрж░ржжрж╛рж░рж┐ ржмрзНржпржмрж╕рзНржерж╛

рж░рзЛрж╣рж┐ржд рж░рж╛ржЬрзНржпрзЗ ржиржЬрж░ржжрж╛рж░рж┐ рж╢рзБрж░рзБ ржХрж░рж▓рзЛ aws_flow_log ржжрж┐ржпрж╝рзЗ:

vpc_id
log_destination (CloudWatch / S3)
traffic_type = ALL
tags = "rohit-vpc-flow-log"


ржПржЦржи рж░рж╛ржЬрзНржпржЯрж╛ ржПржХржжржо secure, traffic monitored ржПржмржВ compliantред

ЁЯОЙ рж╕рж╛рж░рж╛ржВрж╢ тАУ рж░рж╛ржЬрзНржпрзЗрж░ рж╕ржорзНржкрзВрж░рзНржг Terraform Inventory
Resource	Attributes
aws_vpc	cidr_block, dns_support, tenancy, tags
aws_subnet	vpc_id, cidr_block, availability_zone, tags
aws_nat_gateway	vpc_id, elastic_ip, subnet_id, tags
aws_route	vpc_id, cidr_block, gateway_id
aws_route_table	vpc_id, tags
aws_route_table_association	for_each, subnet_id, route_table_id
aws_internet_gateway	vpc_id, tags
aws_flow_log	vpc_id, log_destination, traffic_type, tags

ржПржнрж╛ржмрзЗ рж░рзЛрж╣рж┐ржд рж╢рж░рзНржорж╛рж░ Terraform рж░рж╛ржЬрзНржп рж╣ржпрж╝рзЗ ржЙржарж▓рзЛ Multi-AZ, Highly Available, Fully Tagged ржПржмржВ Secureред

ЁЯОЦя╕П рж╢рзЗрж╖ ржХржерж╛: ржПржЗ рж░рж╛ржЬрзНржпрзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ subnet, NAT GW, route table, ржПржмржВ flow log ржпрзЗржирзЛ ржПржХ ржПржХ ржХрж░рзЗ ржПржХ ржмрж╛рж╕рзНрждржм рж░рж╛ржЬрзНржпрзЗрж░ ржжрзБрж░рзНржЧ, рж╕рзЗрждрзБ ржУ ржиржЬрж░ржжрж╛рж░рж┐ ржЯрж╛ржУржпрж╝рж╛рж░ред
